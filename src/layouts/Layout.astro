---
interface Props {
  title?: string;
  showNav?: boolean;
  showFooter?: boolean;
  authLayout?: boolean;
}
const {
  title = 'FSC Marketplace',
  showNav = true,
  showFooter = true,
  authLayout = false,
} = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <title>{title} | FSC Student Marketplace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

      :root {
        --green:       #006153;
        --green-dark:  #004d42;
        --green-hover: #005045;
        --green-light: #e6f2f0;
        --green-mid:   #4d9e95;
        --gold:        #F4B400;
        --gold-light:  #fff8e1;
        --white:       #ffffff;
        --gray-50:     #f9fafb;
        --gray-100:    #f3f4f6;
        --gray-200:    #e5e7eb;
        --gray-300:    #d1d5db;
        --gray-400:    #9ca3af;
        --gray-500:    #6b7280;
        --gray-600:    #4b5563;
        --gray-700:    #374151;
        --gray-800:    #1f2937;
        --red:         #dc2626;
        --red-light:   #fef2f2;
        --font:        'Plus Jakarta Sans', sans-serif;
        --radius-sm:   6px;
        --radius-md:   10px;
        --radius-lg:   16px;
        --shadow-sm:   0 1px 3px rgba(0,0,0,0.08);
        --shadow-md:   0 4px 16px rgba(0,0,0,0.09);
        --shadow-lg:   0 8px 32px rgba(0,0,0,0.12);
      }

      html, body {
        font-family: var(--font);
        background: var(--gray-50);
        color: var(--gray-800);
        line-height: 1.5;
        min-height: 100%;
      }

      /* ── NAV ─────────────────────────────────── */
      .nav {
        background: var(--green);
        height: 62px;
        display: flex;
        align-items: center;
        padding: 0 1.5rem;
        gap: 1rem;
        position: sticky;
        top: 0;
        z-index: 200;
        box-shadow: 0 2px 8px rgba(0,0,0,0.18);
      }

      .nav-brand {
        display: flex;
        align-items: center;
        gap: 0.65rem;
        text-decoration: none;
        color: white;
        flex-shrink: 0;
      }

      .nav-brand-badge {
        width: 38px;
        height: 38px;
        background: rgba(255,255,255,0.18);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        font-size: 0.85rem;
        letter-spacing: -0.02em;
        border: 1.5px solid rgba(255,255,255,0.28);
      }

      .nav-brand-text { line-height: 1.15; }

      .nav-brand-name {
        font-size: 0.88rem;
        font-weight: 700;
        display: block;
      }

      .nav-brand-sub {
        font-size: 0.62rem;
        font-weight: 500;
        opacity: 0.75;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        display: block;
      }

      .nav-search {
        flex: 1;
        max-width: 360px;
        position: relative;
        margin: 0 auto;
      }

      .nav-search input {
        width: 100%;
        padding: 0.5rem 0.85rem 0.5rem 2.4rem;
        border-radius: var(--radius-md);
        border: none;
        background: rgba(255,255,255,0.14);
        color: white;
        font-size: 0.85rem;
        font-family: var(--font);
        outline: none;
        transition: background 0.2s;
      }

      .nav-search input::placeholder { color: rgba(255,255,255,0.55); }
      .nav-search input:focus { background: rgba(255,255,255,0.22); }

      .nav-search-icon {
        position: absolute;
        left: 0.7rem;
        top: 50%;
        transform: translateY(-50%);
        color: rgba(255,255,255,0.6);
        pointer-events: none;
      }

      .nav-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-left: auto;
      }

      .btn-post-item {
        background: white;
        color: var(--green);
        font-weight: 700;
        font-size: 0.82rem;
        padding: 0.45rem 1rem;
        border-radius: var(--radius-sm);
        border: none;
        cursor: pointer;
        text-decoration: none;
        font-family: var(--font);
        transition: background 0.2s, color 0.2s;
        white-space: nowrap;
      }

      .btn-post-item:hover { background: var(--green-light); }

      .nav-icon-btn {
        background: rgba(255,255,255,0.12);
        border: 1.5px solid rgba(255,255,255,0.2);
        color: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 1rem;
        position: relative;
        transition: background 0.2s;
      }

      .nav-icon-btn:hover { background: rgba(255,255,255,0.22); }

      .nav-badge {
        position: absolute;
        top: -3px;
        right: -3px;
        background: var(--gold);
        color: #333;
        font-size: 0.55rem;
        font-weight: 800;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* ── AUTH NAV ─────────────────────────────── */
      .auth-nav {
        background: var(--green);
        height: 62px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 1.5rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.18);
      }

      /* ── FOOTER ───────────────────────────────── */
      .footer {
        background: var(--green);
        color: white;
        padding: 2.5rem 1.5rem 1.5rem;
        margin-top: 4rem;
      }

      .footer-grid {
        max-width: 1100px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 1.5fr 1fr 1fr;
        gap: 2.5rem;
      }

      .footer-brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 0.75rem;
      }

      .footer-logo-badge {
        width: 44px;
        height: 44px;
        background: rgba(255,255,255,0.18);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        font-size: 0.9rem;
        border: 1.5px solid rgba(255,255,255,0.28);
      }

      .footer-col-title {
        font-size: 0.72rem;
        font-weight: 700;
        letter-spacing: 0.09em;
        text-transform: uppercase;
        opacity: 0.6;
        margin-bottom: 0.85rem;
      }

      .footer-links { list-style: none; display: flex; flex-direction: column; gap: 0.45rem; }

      .footer-links a {
        color: rgba(255,255,255,0.78);
        text-decoration: none;
        font-size: 0.85rem;
        transition: color 0.15s;
      }

      .footer-links a:hover { color: white; }

      .footer-divider {
        max-width: 1100px;
        margin: 1.75rem auto 0;
        border: none;
        border-top: 1px solid rgba(255,255,255,0.15);
        padding-top: 1rem;
      }

      .footer-bottom {
        max-width: 1100px;
        margin: 1rem auto 0;
        font-size: 0.75rem;
        opacity: 0.5;
        text-align: center;
      }

      /* ── SHARED UTILITIES ─────────────────────── */
      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }

      .btn-primary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        background: var(--green);
        color: white;
        font-weight: 700;
        font-size: 0.9rem;
        padding: 0.65rem 1.5rem;
        border-radius: var(--radius-sm);
        border: none;
        cursor: pointer;
        font-family: var(--font);
        text-decoration: none;
        transition: background 0.2s;
        width: 100%;
      }

      .btn-primary:hover { background: var(--green-hover); }

      .btn-secondary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        background: transparent;
        color: var(--green);
        font-weight: 600;
        font-size: 0.85rem;
        padding: 0.6rem 1.25rem;
        border-radius: var(--radius-sm);
        border: 1.5px solid var(--green);
        cursor: pointer;
        font-family: var(--font);
        text-decoration: none;
        transition: background 0.2s, color 0.2s;
      }

      .btn-secondary:hover { background: var(--green-light); }

      .btn-danger {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        background: transparent;
        color: var(--red);
        font-weight: 600;
        font-size: 0.82rem;
        padding: 0.5rem 1rem;
        border-radius: var(--radius-sm);
        border: 1.5px solid var(--red);
        cursor: pointer;
        font-family: var(--font);
        text-decoration: none;
        transition: background 0.2s;
      }

      .btn-danger:hover { background: var(--red-light); }

      .stars { color: var(--gold); letter-spacing: 0.05em; }
      .stars-text { font-size: 0.75rem; color: var(--gray-500); margin-left: 0.25rem; }

      .tag {
        display: inline-block;
        background: var(--green-light);
        color: var(--green);
        font-size: 0.72rem;
        font-weight: 600;
        padding: 0.2rem 0.55rem;
        border-radius: 20px;
      }

      .form-group { display: flex; flex-direction: column; gap: 0.35rem; }

      .form-label {
        font-size: 0.82rem;
        font-weight: 600;
        color: var(--gray-700);
      }

      .form-input {
        padding: 0.65rem 0.9rem;
        border-radius: var(--radius-sm);
        border: 1.5px solid var(--gray-200);
        font-size: 0.9rem;
        font-family: var(--font);
        color: var(--gray-800);
        background: white;
        outline: none;
        transition: border-color 0.2s, box-shadow 0.2s;
        width: 100%;
      }

      .form-input:focus {
        border-color: var(--green);
        box-shadow: 0 0 0 3px rgba(0,97,83,0.1);
      }

      .form-select {
        padding: 0.65rem 0.9rem;
        border-radius: var(--radius-sm);
        border: 1.5px solid var(--gray-200);
        font-size: 0.9rem;
        font-family: var(--font);
        color: var(--gray-800);
        background: white;
        outline: none;
        cursor: pointer;
        transition: border-color 0.2s;
        width: 100%;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%236b7280' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.85rem center;
        padding-right: 2.25rem;
      }

      .form-select:focus { border-color: var(--green); }

      main { min-height: calc(100vh - 62px); }
    </style>
  </head>
  <body>
    {authLayout ? (
      <nav class="auth-nav">
        <a href="/marketplace" class="nav-brand">
          <div class="nav-brand-badge">FSC</div>
          <div class="nav-brand-text">
            <span class="nav-brand-name">Farmingdale State College</span>
            <span class="nav-brand-sub">Student Marketplace</span>
          </div>
        </a>
      </nav>
    ) : showNav ? (
      <nav class="nav">
        <a href="/marketplace" class="nav-brand">
          <div class="nav-brand-badge">FSC</div>
          <div class="nav-brand-text">
            <span class="nav-brand-name">Farmingdale State College</span>
            <span class="nav-brand-sub">Student Marketplace</span>
          </div>
        </a>
        <div class="nav-search">
          <svg class="nav-search-icon" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
          </svg>
          <input type="text" placeholder="Search for items..." />
        </div>
        <div class="nav-actions">
          <a href="/post" class="btn-post-item">+ Post Item</a>
          <a href="/messages" class="nav-icon-btn" title="Messages">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            <span class="nav-badge">3</span>
          </a>
          <a href="/profile" class="nav-icon-btn" title="Profile">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
            </svg>
          </a>
        </div>
      </nav>
    ) : null}

    <main>
      <slot />
    </main>

    {showFooter && (
      <footer class="footer">
        <div class="footer-grid">
          <div>
            <div class="footer-brand">
              <div class="footer-logo-badge">FSC</div>
              <div>
                <div style="font-weight:700;font-size:0.92rem;">Farmingdale State College</div>
                <div style="font-size:0.75rem;opacity:0.65;">Student Marketplace</div>
              </div>
            </div>
            <p style="font-size:0.82rem;opacity:0.65;line-height:1.55;max-width:260px;">
              A secure, campus-exclusive platform for FSC students to buy, sell, and exchange items.
            </p>
          </div>
          <div>
            <p class="footer-col-title">Community</p>
            <ul class="footer-links">
              <li><a href="#">FAQ</a></li>
              <li><a href="#">Contact Forms</a></li>
              <li><a href="#">Safety Tips</a></li>
              <li><a href="#">About Us</a></li>
            </ul>
          </div>
          <div>
            <p class="footer-col-title">Sitemap</p>
            <ul class="footer-links">
              <li><a href="/marketplace">Marketplace</a></li>
              <li><a href="/profile">My Profile</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
        </div>
        <hr class="footer-divider" />
        <p class="footer-bottom">© 2025 Farmingdale State College Student Marketplace. All rights reserved.</p>
      </footer>
    )}
  </body>
</html>
